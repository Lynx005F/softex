# Copyright 2023 ETH Zurich and University of Bologna.
# Licensed under the Apache License, Version 2.0, see LICENSE for details.
# SPDX-License-Identifier: Apache-2.0
#
# Andrea Belano <andrea.belano@studio.unibo.it>
#

package:
  name: ez_sfm  #Provisional name

dependencies:
  ibex          : { git: "https://github.com/pulp-platform/ibex.git"        , rev: pulpissimo-v6.1.2    }
  fpnew         : { git: "https://github.com/pulp-platform/cvfpu.git"       , rev: "pulp-v0.1.3"        }
  common_cells  : { git: "git@github.com:pulp-platform/common_cells.git"    , rev: "v1.32.0"            } 
  hci           : { git: "https://github.com/pulp-platform/hci.git"         , rev: "v2.0.2"             }
  hwpe-stream   : { git: "https://github.com/pulp-platform/hwpe-stream.git" , version: 1.7              }
  hwpe-ctrl     : { git: "https://github.com/pulp-platform/hwpe-ctrl.git"   , rev: "v1.7.3"             }

sources:
  files:
    - rtl/sfm_pkg.sv
    - rtl/sfm_fp_red_minmax.sv
    - rtl/sfm_fp_minmax_rec.sv
    - rtl/sfm_fp_red_sum.sv
    - rtl/sfm_fp_add_rec.sv
    - rtl/sfm_pipeline.sv
    - rtl/sfm_macros.svh
    - rtl/sfm_delay.sv
    - rtl/sfm_fp_glob_minmax.sv
    - rtl/sfm_accumulator.sv
    - rtl/sfm_datapath.sv
    - rtl/sfm_den_inverter.sv
    - rtl/sfm_fp_vect_addmul.sv
    - rtl/sfm_streamer.sv
    - rtl/sfm_streamer_strb_gen.sv
    - rtl/sfm_cast_in.sv
    - rtl/sfm_cast_out.sv
    - rtl/sfm_top.sv
    - rtl/sfm_ctrl.sv
    - rtl/sfm_slot_regfile.sv
    - rtl/sfm_wrap.sv
    - rtl/expu/expu_correction.sv
    - rtl/expu/expu_row.sv
    - rtl/expu/expu_schraudolph.sv
    - rtl/expu/expu_top.sv
    - rtl/accumulator/sfm_acc_ctrl.sv
    - rtl/accumulator/sfm_acc_datapath.sv
    - rtl/accumulator/sfm_acc_top.sv
    - rtl/accumulator/sfm_acc_den_inverter.sv

    - target: sfm_sim
      files:
        - tb/tb_dummy_memory.sv
        - tb/sfm_tb.sv
